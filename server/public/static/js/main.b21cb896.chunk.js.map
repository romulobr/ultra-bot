{"version":3,"sources":["authentication/deauthentication.js","authentication/authentication.js","media/my-input.js","media/media.js","App.js","serviceWorker.js","authentication/authentication-reducer.js","media/media-reducer.js","authentication/authentication-saga.js","media/save-media-saga.js","media/fetch-media-saga.js","index.js"],"names":["deauthenticate","dispatch","cookies","erase","type","AuthenticationPanel","this","props","authenticate","user","concat","origin","backgroundImage","profilePictureUrl","react_default","a","createElement","className","getDisconnectedClassName","href","getConnectedClassName","style","getImageDivStyle","hasUser","displayName","onClick","Component","connect","state","Object","objectSpread","authentication","MyInput","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","changeValue","bind","assertThisInitialized","event","setValue","currentTarget","value","getErrorMessage","onChange","getValue","React","withFormsy","MediaPanel","disableButton","enableButton","createMediaItem","deleteMediaItem","renderItems","toMediaItemJSX","submit","canSubmit","items","deletedItems","newItems","fetchMedia","item","index","key","my_input","name","command","url","push","setState","_this2","console","log","collections","slice","length","saveMediaList","map","lib_default","onValidSubmit","onValid","onInvalid","disabled","media","App","authentication_authentication","media_media","Boolean","window","location","hostname","match","defaultState","connected","authenticationReducer","action","connectionError","error","mediaReducer","mediaItem","mediaIndex","Array","prototype","apply","lenght","watchAuthentication","jwt","response","regenerator_default","wrap","_context","prev","next","get","put","abrupt","axios","headers","Authorization","sent","data","t0","stop","_marked","_context2","takeEvery","_marked2","saveMedia","watchSaveMedia","validateItems","validation","hasErrors","forEach","hasValidationError","validationError","post","save_media_saga_marked","save_media_saga_marked2","watchFetchMedia","fetch_media_saga_marked","fetch_media_saga_marked2","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","form","formReducer","applyMiddleware","run","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b21cb896.chunk.js","sourcesContent":["import cookies from 'browser-cookies';\n\nfunction deauthenticate(dispatch) {\n\tcookies.erase('feathers-jwt');\n\tdispatch({ type: 'NOT_AUTHENTICATED' });\n}\n\nexport default deauthenticate;\n","import React, { Component } from 'react';\nimport './authentication.scss';\nimport deauthenticate from './deauthentication';\nimport { connect } from 'react-redux';\n\nclass AuthenticationPanel extends Component {\n  componentDidMount() {\n    this.props.authenticate();\n  }\n  getConnectedClassName(props) {\n    return props.user\n      ? `welcome-panel__status-bar welcome-panel__status-bar__${\n          props.user.origin\n        }`\n      : 'welcome-panel__status-bar welcome-panel__status-bar__hidden';\n  }\n  getDisconnectedClassName(props) {\n    return props.user\n      ? 'welcome-panel__status-bar welcome-panel__status-bar__hidden'\n      : 'welcome-panel__status-bar';\n  }\n  getImageDivStyle(props) {\n    return props.user\n      ? { backgroundImage: `url(${props.user.profilePictureUrl})` }\n      : {};\n  }\n  render() {\n    return (\n      <div className=\"welcome-panel\">\n        <div className={this.getDisconnectedClassName(this.props)}>\n          <div className={'welcome-panel__status-bar__disconnected-information'}>\n            You are not connected yet\n          </div>\n          <div className={'welcome-panel__status-bar__disconnected-information'}>\n            <a href=\"/auth/twitch\">Connect with twitch</a>\n          </div>\n          <div className={'welcome-panel__status-bar__disconnected-information'}>\n            <a href=\"/auth/youtube\">Connect with youtube</a>\n          </div>\n        </div>\n        <div className={this.getConnectedClassName(this.props)}>\n          <div\n            className={'welcome-panel__status-bar__profile-picture'}\n            style={this.getImageDivStyle(this.props)}\n          />\n          <div className={'welcome-panel__status-bar__origin '}>\n            {this.props.hasUser && this.props.user.origin}\n          </div>\n          <div className=\"welcome-panel__status-bar__name\">\n            {this.props.hasUser && this.props.user.displayName}\n          </div>\n          <div>\n            <button onClick={this.props.deauthenticate}>Disconnect</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state.authentication,\n    hasUser: !!state.authentication.user\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deauthenticate: () => {\n      deauthenticate(dispatch);\n    },\n    authenticate: () => {\n      dispatch({ type: 'AUTHENTICATION' });\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AuthenticationPanel);\n","// MyInput.js\nimport { withFormsy } from 'formsy-react';\nimport React from 'react';\n\nclass MyInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.changeValue = this.changeValue.bind(this);\n  }\n\n  changeValue(event) {\n    // setValue() will set the value of the component, which in\n    // turn will validate it and the rest of the form\n    // Important: Don't skip this step. This pattern is required\n    // for Formsy to work.\n    this.props.setValue(event.currentTarget.value);\n  }\n\n  render() {\n    // An error message is returned only if the component is invalid\n    const errorMessage = this.props.getErrorMessage();\n\n    return (\n        <input \n        className={this.props.className}\n          onChange={this.changeValue}\n          type=\"text\"\n          value={this.props.getValue() || ''}\n        />\n    );\n  }\n}\n\nexport default withFormsy(MyInput);\n","import React, { Component } from 'react';\nimport './media.scss';\nimport { connect } from 'react-redux';\nimport Formsy from 'formsy-react';\nimport MyInput from './my-input';\n\nclass MediaPanel extends Component {\n  constructor(props) {\n    super(props);\n    this.disableButton = this.disableButton.bind(this);\n    this.enableButton = this.enableButton.bind(this);\n    this.createMediaItem = this.createMediaItem.bind(this);\n    this.deleteMediaItem = this.deleteMediaItem.bind(this);\n    this.renderItems = this.renderItems.bind(this);\n    this.toMediaItemJSX = this.toMediaItemJSX.bind(this);\n    this.submit = this.submit.bind(this);\n    this.state = {\n      canSubmit: false,\n      items: this.props.items,\n      deletedItems: [],\n      newItems: []\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchMedia();\n  }\n  toMediaItemJSX(item, index) {\n    return (\n      <div\n        className=\"media-panel media-panel__media-item\"\n        key={'media-item-' + index}\n      >\n        <MyInput\n          className=\"media-panel__media-item__command\"\n          name={'media-item-command-' + index}\n          value={item.command}\n        />\n\n        <div className=\"media-panel__media-item__arrow\"> ➡</div>\n        <MyInput\n          className=\"media-panel__media-item__url\"\n          name={'media-item-url-' + index}\n          value={item.url}\n        />\n        <div\n          className=\"media-panel__media-item__delete-button\"\n          onClick={this.deleteMediaItem(index)}\n        >\n          Delete\n        </div>\n      </div>\n    );\n  }\n\n  createMediaItem() {\n    const items = this.state.items;\n    items.push({ command: '', url: '' });\n    this.setState({ ...this.state, items });\n  }\n\n  deleteMediaItem(index) {\n    return () => {\n      console.log('deleted item #' + index);\n      const items = this.state.items;\n      var collections = items\n        .slice(0, index)\n        .concat(items.slice(index + 1, items.length));\n      this.setState({\n        ...this.state,\n        items: collections\n      });\n    };\n  }\n\n  submit() {\n    this.props.saveMediaList(this.state.items);\n  }\n\n  disableButton() {\n    this.setState({ canSubmit: false });\n  }\n\n  enableButton() {\n    this.setState({ canSubmit: true });\n  }\n\n  renderItems(items) {\n    console.log('items:', items);\n    return items ? items.map(this.toMediaItemJSX) : null;\n  }\n\n  render() {\n    //console.log('props: ', this.props);\n    return (\n      <div className=\"media-panel\">\n        <h2>Media List</h2>\n        <Formsy\n          onValidSubmit={this.submit}\n          onValid={this.enableButton}\n          onInvalid={this.disableButton}\n        >\n          <div className=\"media-panel__media-list\">\n            {this.renderItems(this.state.items)}\n          </div>\n          <button onClick={this.createMediaItem}>New</button>\n          <button type=\"submit\" disabled={!this.state.canSubmit}>\n            Save\n          </button>\n        </Formsy>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    items: state.media.items\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveMediaList: items => {\n      dispatch({\n        type: 'SAVE_MEDIA',\n        items\n      });\n    },\n    fetchMedia: items => {\n      dispatch({\n        type: 'FETCH_MEDIA'\n      });\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MediaPanel);\n","import React, { Component } from 'react';\nimport AuthenticationPanel from './authentication/authentication'\nimport MediaPanel from './media/media';\nimport './App.scss';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <AuthenticationPanel/>\n        <MediaPanel/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const defaultState = {\n\tconnected: false\n};\n\nfunction authenticationReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'AUTHENTICATION_SUCCESS': {\n\t\t\tconsole.log('success:',action);\n\t\t\treturn {\n\t\t\t\tconnected: true,\n\t\t\t\tuser: action.user\n\t\t\t};\n\t\t}\n\t\tcase 'AUTHENTICATION_FAILED': {\n\t\t\treturn {\n\t\t\t\tconnected: false,\n\t\t\t\tconnectionError: {\n\t\t\t\t\t...action.error\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tcase 'NOT_AUTHENTICATED': {\n\t\t\treturn {connected: false}\n\t\t}\n\t\tdefault:\n\t\t\treturn state || defaultState;\n\t}\n}\n\nexport default authenticationReducer;\n","const defaultState = {\n  items: [\n    {\n      command: '0',\n      url:\n        'https://shapeshed.com/examples/HTML5-video-element/video/320x240.m4v'\n    },\n    {\n      command: '1',\n      url:\n        'https://shapeshed.com/examples/HTML5-video-element/video/320x240.m4v'\n    },\n    {\n      command: '2',\n      url:\n        'https://shapeshed.com/examples/HTML5-video-element/video/320x240.m4v'\n    },\n    {\n      command: '3',\n      url:\n        'https://shapeshed.com/examples/HTML5-video-element/video/320x240.m4v'\n    },\n    {\n      command: '4',\n      url:\n        'https://shapeshed.com/examples/HTML5-video-element/video/320x240.m4v'\n    },\n    {\n      command: '5',\n      url:\n        'https://shapeshed.com/examples/HTML5-video-element/video/320x240.m4v'\n    }\n  ]\n};\n// const defaultState = {\n//   items: []\n// };\n\nfunction mediaReducer(state, action) {\n  switch (action.type) {\n    case 'ADD_MEDIA_ITEM': {\n      console.log('added media:', action);\n      const newItems = state.items.slice(0);\n      newItems.push(action.mediaItem);\n      return {\n        items: newItems\n      };\n    }\n    case 'DELETE_MEDIA_ITEM': {\n      console.log('deleted media:', action);\n      const newItems = state.items.slice(0, action.mediaIndex);\n      Array.prototype.push.apply(\n        newItems,\n        state.items.slice(action.mediaIndex + 1, state.items.lenght - 1)\n      );\n      return {\n        items: newItems\n      };\n    }\n    case 'MEDIA_FETCHED': {\n      console.log('fetched media:', action);\n      return {\n        items: []\n      };\n    }\n    default:\n      return state || defaultState;\n  }\n}\n\nexport default mediaReducer;\n","import { put, takeEvery } from 'redux-saga/effects';\nimport axios from 'axios';\nimport cookies from 'browser-cookies';\n\nfunction* authenticate() {\n  try {\n    const jwt = cookies.get('feathers-jwt');\n    console.log('found auth cookie');\n    if (!jwt) {\n      yield put({ type: 'NOT_AUTHENTICATED' });\n      console.log('could not find jwt cookie, user is not authenticated');\n      return;\n    }\n    console.log('querying for my user', jwt);\n    const response = yield axios.get('http://localhost:3000/users', {\n      headers: { Authorization: 'Bearer ' + jwt }\n    });\n    yield put({ type: 'AUTHENTICATION_SUCCESS', user: response.data });\n    console.log('got a response:', response.data);\n  } catch (e) {\n    yield put({ type: 'AUTHENTICATION_FAILED', error: e });\n    console.log('got an error:', e);\n  }\n}\n\nfunction* watchAuthentication() {\n  yield takeEvery('AUTHENTICATION', authenticate);\n}\n\nexport default watchAuthentication;\n","import { put, takeEvery } from 'redux-saga/effects';\nimport axios from 'axios';\nimport cookies from 'browser-cookies';\n\nfunction validateItems(items) {\n  const validation = { hasErrors: false, items: [] };\n  items.forEach(item => {\n    if (!item.url || !item.command) {\n      validation.item.push({\n        ...item,\n        hasValidationError: true,\n        validationError: 'no-blank'\n      });\n      validation.hasErrors = true;\n    } else {\n      validation.items.push(item);\n    }\n  });\n  return validation;\n}\n\nfunction* saveMedia(action) {\n  console.log('trying to save media');\n  try {\n    const validation = validateItems(action.items);\n    if (validation.hasErrors) {\n      yield put({ type: 'MEDIA_VALIDATION_ERRORS', validation });\n      return;\n    } else {\n      const jwt = cookies.get('feathers-jwt');\n      if (!jwt) {\n        yield put({ type: 'NOT_AUTHENTICATED' });\n        return;\n      }\n      const response = yield axios.post('http://localhost:3000/media', {items:action.items},{\n        headers: { Authorization: 'Bearer ' + jwt }\n      });\n      yield put({ type: 'MEDIA_SAVED', response });\n      console.log(response);\n    }\n  } catch (e) {\n    yield put({ type: 'MEDIA_SAVING_ERROR', error: e });\n    console.log('got an error:', e);\n  }\n}\n\nfunction* watchSaveMedia() {\n  yield takeEvery('SAVE_MEDIA', saveMedia);\n}\n\nexport default watchSaveMedia;\n","import { put, takeEvery } from 'redux-saga/effects';\nimport axios from 'axios';\nimport cookies from 'browser-cookies';\n\nfunction* fetchMedia(action) {\n  console.log('trying to save media');\n  try {\n    const jwt = cookies.get('feathers-jwt');\n    if (!jwt) {\n      yield put({ type: 'NOT_AUTHENTICATED' });\n      return;\n    }\n    const response = yield axios.get('http://localhost:3000/media', {\n      headers: { Authorization: 'Bearer ' + jwt }\n    });\n    yield put({ type: 'MEDIA_FETCHED', response });\n    console.log(response);\n  } catch (e) {\n    yield put({ type: 'MEDIA_FETCH_ERROR', error: e });\n    console.log('got an error:', e);\n  }\n}\n\nfunction* watchFetchMedia() {\n  yield takeEvery('FETCH_MEDIA', fetchMedia);\n}\n\nexport default watchFetchMedia;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport { Provider } from 'react-redux';\nimport authenticationReducer from './authentication/authentication-reducer';\nimport mediaReducer from './media/media-reducer';\nimport createSagaMiddleware from 'redux-saga';\nimport watchAuthentication from './authentication/authentication-saga';\nimport watchSaveMedia from './media/save-media-saga';\nimport watchFetchMedia from './media/fetch-media-saga';\nimport { reducer as formReducer } from 'redux-form';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  combineReducers({\n    authentication: authenticationReducer,\n    media: mediaReducer,\n    form: formReducer\n  }),\n  composeEnhancers(applyMiddleware(sagaMiddleware))\n);\n\nsagaMiddleware.run(watchAuthentication);\nsagaMiddleware.run(watchSaveMedia);\nsagaMiddleware.run(watchFetchMedia);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}